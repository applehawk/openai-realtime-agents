# Adaptive Execution: Smart Task Skipping

**Date:** 2025-10-25  
**Type:** Feature Implementation  
**Status:** ‚úÖ Completed  
**Approach:** Hybrid (Smart Execution)

## üéØ –¶–µ–ª—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º "—É–º–Ω–æ–≥–æ" –ø—Ä–æ–ø—É—Å–∫–∞ –∑–∞–¥–∞—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, —á—Ç–æ–±—ã:
- ‚úÖ –ò–∑–±–µ–≥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—Ç—å API calls –∏ —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –£–ª—É—á—à–∏—Ç—å UX (—Å–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏)
- ‚úÖ –ë–µ–∑ –ø–æ–ª–Ω–æ–≥–æ dynamic replanning (–∏–∑–±–µ–≥–∞–µ–º over-engineering)

## üìù –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏: `skipped`

**–§–∞–π–ª:** `src/app/api/supervisor/taskTypes.ts`

```typescript
export type TaskStatus =
  | 'planned'
  | 'in_progress'
  | 'completed'
  | 'failed'
  | 'blocked'
  | 'skipped';     // NEW: Task skipped based on context (adaptive execution)
```

**–ó–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–¥–∞—á–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–Ω–µ –Ω—É–∂–Ω–∞, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞, –∏–ª–∏ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–∞).

### 2. Adaptive Execution –≤ Executor (Mode 2: Leaf Execution)

**–§–∞–π–ª:** `src/app/api/supervisor/prompts/executor.ts`

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º:

```markdown
**Adaptive Execution (NEW):**

Before executing, CHECK previousResults for task relevance:

**IF task becomes irrelevant or impossible:**
- **DON'T execute** unnecessary tool calls
- **Return explanation**: "–ó–∞–¥–∞—á–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞: [reason based on context]"
- **Mark as skipped** implicitly by explaining why it's not needed

**Indicators to skip:**
- Previous task found "not found", "closed", "unavailable", "cancelled"
- Previous task result makes current task impossible or unnecessary
- Context shows task is no longer relevant
```

**–ü—Ä–∏–º–µ—Ä:**
```typescript
Task: "–û—Ç–ø—Ä–∞–≤—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–æ–µ–∫—Ç–∞"
PreviousResults: ["–ü—Ä–æ–µ–∫—Ç –í–æ—Å—Ç–æ–∫ –∑–∞–∫—Ä—ã—Ç, —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–µ—Ç"]

‚Üí Executor response: "–ó–∞–¥–∞—á–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞ - –ø—Ä–æ–µ–∫—Ç –í–æ—Å—Ç–æ–∫ –∑–∞–∫—Ä—ã—Ç, 
   —É—á–∞—Å—Ç–Ω–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è."
‚Üí No MCP calls made - saved resources!
```

### 3. Intelligent Aggregation (Mode 1: Aggregation)

**–§–∞–π–ª:** `src/app/api/supervisor/prompts/executor.ts`

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —É–º–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á:

```markdown
**Intelligent Aggregation (NEW):**
- **Handle skipped tasks**: If some subtasks were skipped, explain why in context
- **Focus on completed**: Prioritize results from completed tasks
- **Explain adaptations**: If plan changed based on context, mention it naturally
```

**–ü—Ä–∏–º–µ—Ä:**
```typescript
Task: "–ù–∞–π–¥–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"
SubtaskResults:
  - "–ù–∞–π—Ç–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: –ü—Ä–æ–µ–∫—Ç –í–æ—Å—Ç–æ–∫ –∑–∞–∫—Ä—ã—Ç, —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–µ—Ç"
  - "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è: –ó–∞–¥–∞—á–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞ - –Ω–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π"

‚Üí Aggregation response: "–ü—Ä–æ–≤–µ—Ä–∏–ª –ø—Ä–æ–µ–∫—Ç –í–æ—Å—Ç–æ–∫ - –ø—Ä–æ–µ–∫—Ç –±—ã–ª –∑–∞–∫—Ä—ã—Ç, 
   –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –Ω–µ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–∞—Å—å. 
   –†–µ–∫–æ–º–µ–Ω–¥—É—é —É—Ç–æ—á–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ —É —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è."
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

**–§–∞–π–ª:** `src/app/api/supervisor/prompts/executor.ts`

```markdown
# Principles

1. **Use context**: SubtaskResults and previousResults are valuable - use them!
2. **Be adaptive**: Skip irrelevant tasks based on context (save resources)  ‚Üê NEW
3. **Be complete**: Don't leave user hanging with partial info
4. **Be detailed**: 30-80+ words for good explanations
5. **Be natural**: Write as Russian-speaking assistant would
6. **Track steps**: workflowSteps help with transparency
7. **Explain skips**: If task is skipped, clearly explain why in Russian  ‚Üê NEW
```

## üé¨ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä–æ–µ–∫—Ç –∑–∞–∫—Ä—ã—Ç

```
User: "–ù–∞–π–¥–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ –í–æ—Å—Ç–æ–∫ –∏ –æ—Ç–ø—Ä–∞–≤—å –∏–º –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"

Plan:
  ‚îú‚îÄ Subtask 1: "–ù–∞–π—Ç–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ –í–æ—Å—Ç–æ–∫"
  ‚îî‚îÄ Subtask 2: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"

Execution:
  ‚îú‚îÄ Subtask 1: ‚úÖ Completed
  ‚îÇ   Result: "–ü—Ä–æ–µ–∫—Ç –í–æ—Å—Ç–æ–∫ –∑–∞–∫—Ä—ã—Ç, —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–µ—Ç"
  ‚îÇ
  ‚îî‚îÄ Subtask 2: ‚è≠Ô∏è SKIPPED (Adaptive!)
      Result: "–ó–∞–¥–∞—á–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞ - –ø—Ä–æ–µ–∫—Ç –∑–∞–∫—Ä—ã—Ç, –Ω–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π"
      MCP calls: 0 (saved!)

Final Response:
"–ü—Ä–æ–≤–µ—Ä–∏–ª –ø—Ä–æ–µ–∫—Ç –í–æ—Å—Ç–æ–∫ - –ø—Ä–æ–µ–∫—Ç –±—ã–ª –∑–∞–∫—Ä—ã—Ç, –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. 
–û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –Ω–µ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–∞—Å—å. –†–µ–∫–æ–º–µ–Ω–¥—É—é —É—Ç–æ—á–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞."
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£—á–∞—Å—Ç–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

```
User: "–û—Ä–≥–∞–Ω–∏–∑—É–π –≤—Å—Ç—Ä–µ—á—É —Å –∫–æ–º–∞–Ω–¥–æ–π –∑–∞–≤—Ç—Ä–∞ –∏ –∑–∞–±—Ä–æ–Ω–∏—Ä—É–π –∑–∞–ª"

Plan:
  ‚îú‚îÄ Subtask 1: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã"
  ‚îú‚îÄ Subtask 2: "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª"
  ‚îî‚îÄ Subtask 3: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"

Execution:
  ‚îú‚îÄ Subtask 1: ‚úÖ Completed
  ‚îÇ   Result: "–í—Å—è –∫–æ–º–∞–Ω–¥–∞ –≤ –æ—Ç–ø—É—Å–∫–µ, –Ω–∏–∫—Ç–æ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω"
  ‚îÇ
  ‚îú‚îÄ Subtask 2: ‚è≠Ô∏è SKIPPED (Adaptive!)
  ‚îÇ   Result: "–ó–∞–¥–∞—á–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞ - –∫–æ–º–∞–Ω–¥–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –∑–∞–ª –Ω–µ –Ω—É–∂–µ–Ω"
  ‚îÇ
  ‚îî‚îÄ Subtask 3: ‚è≠Ô∏è SKIPPED (Adaptive!)
      Result: "–ó–∞–¥–∞—á–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞ - –Ω–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"

Final Response:
"–ü—Ä–æ–≤–µ—Ä–∏–ª –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∑–∞–≤—Ç—Ä–∞ - –≤—Å–µ –≤ –æ—Ç–ø—É—Å–∫–µ. –í—Å—Ç—Ä–µ—á—É –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å 
–Ω–µ —É–¥–∞—Å—Ç—Å—è. –†–µ–∫–æ–º–µ–Ω–¥—É—é –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –¥–∞—Ç—É."
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (skip –Ω–µ –Ω—É–∂–µ–Ω)

```
User: "–ü—Ä–æ—á–∏—Ç–∞–π –ø–∏—Å—å–º–æ –æ—Ç –ê–Ω–Ω—ã –∏ –Ω–∞–∑–Ω–∞—á—å –≤—Å—Ç—Ä–µ—á—É"

Plan:
  ‚îú‚îÄ Subtask 1: "–ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–∏—Å—å–º–æ –æ—Ç –ê–Ω–Ω—ã"
  ‚îî‚îÄ Subtask 2: "–ù–∞–∑–Ω–∞—á–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É"

Execution:
  ‚îú‚îÄ Subtask 1: ‚úÖ Completed
  ‚îÇ   Result: "–ê–Ω–Ω–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—Å—Ç—Ä–µ—á—É –∑–∞–≤—Ç—Ä–∞ –≤ 15:00"
  ‚îÇ
  ‚îî‚îÄ Subtask 2: ‚úÖ Completed (Normal execution)
      Result: "–°–æ–∑–¥–∞–Ω–∞ –≤—Å—Ç—Ä–µ—á–∞ –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 15:00"
      MCP calls: 2 (check calendar + create event)

Final Response:
"–ü—Ä–æ—á–∏—Ç–∞–ª –ø–∏—Å—å–º–æ –æ—Ç –ê–Ω–Ω—ã. –û–Ω–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—Å—Ç—Ä–µ—á—É –∑–∞–≤—Ç—Ä–∞ –≤ 15:00. 
–ü—Ä–æ–≤–µ—Ä–∏–ª –∫–∞–ª–µ–Ω–¥–∞—Ä—å - –≤—Ä–µ–º—è —Å–≤–æ–±–æ–¥–Ω–æ. –°–æ–∑–¥–∞–ª –≤—Å—Ç—Ä–µ—á—É –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 15:00."
```

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

### ‚úÖ –ü–ª—é—Å—ã

1. **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤** üí∞
   - –ò–∑–±–µ–≥–∞–µ–º –Ω–µ–Ω—É–∂–Ω—ã—Ö MCP calls
   - –ú–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
   - –ë—ã—Å—Ç—Ä–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (skip –≤–º–µ—Å—Ç–æ execute)

2. **–õ—É—á—à–∏–π UX** üéØ
   - –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏
   - –ü–æ–Ω—è—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø–æ—á–µ–º—É –∑–∞–¥–∞—á–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞
   - –ù–µ –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–µ

3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** üõ†Ô∏è
   - –¢–æ–ª—å–∫–æ –ø—Ä–æ–º–ø—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è (+ —Å—Ç–∞—Ç—É—Å)
   - –ù–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ –≤ –∫–æ–¥–µ
   - –ê–≥–µ–Ω—Ç —Å–∞–º –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –æ skip

4. **–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫** ‚úÖ
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - Backward compatible
   - –õ–µ–≥–∫–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã

5. **–≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø—É—Ç—å** üìà
   - –ú–æ–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –æ full replanning
   - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–†–µ—à–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞–≥–µ–Ω—Ç–∞**
   - Executor –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –æ skip
   - –ü–ª–∞–Ω –≤ TaskOrchestrator –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º
   - –°—Ç–∞—Ç—É—Å 'skipped' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–µ—è–≤–Ω–æ (—á–µ—Ä–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç)

2. **–ù–µ—Ç —è–≤–Ω–æ–π –æ—Ç–º–µ–Ω—ã –≤ TaskOrchestrator**
   - –ó–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
   - Skip –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–µ –∑–∞—Ä–∞–Ω–µ–µ
   - –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ "cancel remaining tasks"

3. **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–º–ø—Ç–∞**
   - Executor –¥–æ–ª–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–º (–Ω–µ skip –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ)
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º (skip –∫–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ)

## üîÑ –ß—Ç–æ –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–∏ –ø–æ—á–µ–º—É)

### ‚ùå Early Termination –≤ TaskOrchestrator

**–ß—Ç–æ —ç—Ç–æ:**
```typescript
for (const subtask of task.subtasks) {
  await execute(subtask);
  
  if (shouldTerminateEarly(subtask.result)) {
    // Cancel remaining subtasks
    break;
  }
}
```

**–ü–æ—á–µ–º—É –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ TaskOrchestrator
- Executor —É–∂–µ handle —ç—Ç–æ —á–µ—Ä–µ–∑ adaptive execution
- –ú–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è

### ‚ùå Replanning Agent

**–ß—Ç–æ —ç—Ç–æ:**
–û—Ç–¥–µ–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π subtask –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç: "–Ω—É–∂–µ–Ω –ª–∏ replanning?"

**–ü–æ—á–µ–º—É –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- +1 API call –Ω–∞ –∫–∞–∂–¥—É—é subtask = –¥–æ—Ä–æ–≥–æ
- 80% –∑–∞–¥–∞—á –Ω–µ —Ç—Ä–µ–±—É—é—Ç replanning
- Executor —É–∂–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ prompt

### ‚ùå Dynamic Plan Restructuring

**–ß—Ç–æ —ç—Ç–æ:**
–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

**–ü–æ—á–µ–º—É –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ (40-60 —á–∞—Å–æ–≤)
- Over-engineering –¥–ª—è —Ç–µ–∫—É—â–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç 90% —Å–ª—É—á–∞–µ–≤

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –Ω—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:

1. **% skipped tasks** - —Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è
2. **Token savings** - —ç–∫–æ–Ω–æ–º–∏—è –Ω–∞ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö MCP calls
3. **User satisfaction** - feedback –Ω–∞ adaptive behavior
4. **False skips** - –∑–∞–¥–∞—á–∏, –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –æ—à–∏–±–æ—á–Ω–æ
5. **Missed skips** - –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –±—ã—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω—ã

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### Immediate (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ skipped tasks
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ monitoring
- [ ] UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è skipped —Å—Ç–∞—Ç—É—Å–∞

### Short-term (1-2 –º–µ—Å—è—Ü–∞)
- [ ] –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ % skipped tasks
- [ ] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å false positives/negatives
- [ ] –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### Long-term (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Early Termination –≤ TaskOrchestrator
- [ ] –î–æ–±–∞–≤–∏—Ç—å Replanning Agent (–µ—Å–ª–∏ % > 20%)
- [ ] Full Dynamic Replanning (–µ—Å–ª–∏ –≥–∏–±—Ä–∏–¥–Ω—ã–π –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è)

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `DYNAMIC_REPLANNING_ANALYSIS.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–¥—Ö–æ–¥–æ–≤
- `EXECUTOR_VS_ORCHESTRATOR.md` - —Ä–æ–ª–∏ –∞–≥–µ–Ω—Ç–æ–≤
- `AGENT_ROLE_CLARIFICATION.md` - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≥–µ–Ω—Ç–æ–≤

## ‚úÖ –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (Smart Execution)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. ‚úÖ –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å `skipped` –≤ TaskStatus
2. ‚úÖ Adaptive Execution –≤ Executor (Mode 2)
3. ‚úÖ Intelligent Aggregation –≤ Executor (Mode 1)
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

**–≠—Ñ—Ñ–µ–∫—Ç:**
- üí∞ –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (–ø—Ä–æ–ø—É—Å–∫ –Ω–µ–Ω—É–∂–Ω—ã—Ö MCP calls)
- üéØ –õ—É—á—à–∏–π UX (—Å–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏)
- üõ†Ô∏è –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–º–ø—Ç + —Å—Ç–∞—Ç—É—Å)
- ‚úÖ –ù–∏–∑–∫–∏–π —Ä–∏—Å–∫ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

**–ü–æ–∫—Ä—ã—Ç–∏–µ:** ~90% —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ç—Ä–µ–±—É—é—â–∏—Ö –∞–¥–∞–ø—Ç–∞—Ü–∏–∏

**Time to value:** –°—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

---

**Status:** ‚úÖ Ready for Testing  
**Estimated Impact:** High value, Low effort  
**Recommendation:** Deploy and monitor metrics

