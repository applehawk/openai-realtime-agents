# SeverstalAssistant - ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

## Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¾Ğ±Ğ·Ğ¾Ñ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FRONTEND (RealtimeAgents)                   â”‚
â”‚              gpt-4o-realtime-mini                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Router Agent    â”‚
                    â”‚     (300 ÑÑ‚Ñ€)     â”‚
                    â”‚                   â”‚
                    â”‚  â€¢ ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ  â”‚
                    â”‚  â€¢ MCP calls      â”‚
                    â”‚  â€¢ Ğ”ĞµĞ»ĞµĞ³Ğ°Ñ†Ğ¸Ñ      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ handoff             â”‚ handoff             â”‚ tool call
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Knowledge Agentâ”‚     â”‚Interview Agentâ”‚    â”‚Backend Agentsâ”‚
â”‚   (130 ÑÑ‚Ñ€)  â”‚      â”‚   (110 ÑÑ‚Ñ€)  â”‚     â”‚              â”‚
â”‚              â”‚      â”‚              â”‚     â”‚ Planning     â”‚
â”‚â€¢ RAG Ğ¿Ğ¾Ğ¸ÑĞº   â”‚      â”‚â€¢ ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·. â”‚     â”‚ Complex Task â”‚
â”‚â€¢ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ     â”‚      â”‚â€¢ ĞĞ¿Ñ€Ğ¾Ñ       â”‚     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚
       â”‚ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚             â”‚ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚             â”‚ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Router Agent   â”‚
                    â”‚ (ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ñ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ¾Ğ¼ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ

### ĞŸĞ¾Ñ‚Ğ¾Ğº 1: ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° (Direct MCP)
```
User: Â«ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾Â»
    â†“
Router Agent [Ğ²Ñ‹Ğ·Ğ¾Ğ² MCP]
    â†“
MCP Server â†’ Ğ¾Ñ‚Ğ²ĞµÑ‚
    â†“
Router Agent â†’ User
```
**Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸:** Router Agent + MCP Server
**Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚:** ĞĞµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ (Router Agent Ğ½Ğµ Ğ´ĞµĞ»ĞµĞ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ»)

---

### ĞŸĞ¾Ñ‚Ğ¾Ğº 2: RAG Ğ¿Ğ¾Ğ¸ÑĞº (Handoff â†’ Return)
```
User: Â«Ğ§Ñ‚Ğ¾ Ğ¿Ğ¸ÑĞ°Ğ»Ğ¸ Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ?Â»
    â†“
Router Agent [Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ]
    â†“
Router Agent [handoff â†’ Knowledge Agent]
    â†“
Knowledge Agent: Â«Ğ˜Ñ‰Ñƒ Ğ² Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ…Â»
    â†“
Knowledge Agent [Ğ²Ñ‹Ğ·Ğ¾Ğ² lightrag_query]
    â†“
Knowledge Agent: Â«ĞĞ°ÑˆĞ»Ğ° Ñ‚Ñ€Ğ¸ Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ...Â»
    â†“
Knowledge Agent [exit criteria â†’ Ğ’ĞĞ—Ğ’Ğ ĞĞ¢ Ğ² Router Agent]
    â†“
Router Agent [ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¾]
    â†“
Router Agent [Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ]
```
**Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸:** Router Agent â†’ Knowledge Agent â†’ **Router Agent**

**Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ (SDK), Ğ¿Ğ¾ÑĞ»Ğµ exit criteria

---

### ĞŸĞ¾Ñ‚Ğ¾Ğº 3: ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (Handoff â†’ Return)
```
[ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ]
    â†“
Router Agent [checkInterviewStatus = false]
    â†“
Router Agent [handoff â†’ Interview Agent]
    â†“
Interview Agent: Â«ĞœĞ¾Ğ³Ñƒ Ğ¿Ñ€Ğ¾Ğ²ĞµÑÑ‚Ğ¸ Ğ¾Ğ¿Ñ€Ğ¾Ñ?Â»
    â†“
User: Â«Ğ”Ğ°Â»
    â†“
Interview Agent [Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²ÑŒÑ 4+3 Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°]
    â†“
Interview Agent: Â«Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾! ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ñ‹Â»
    â†“
Interview Agent [exit criteria â†’ Ğ’ĞĞ—Ğ’Ğ ĞĞ¢ Ğ² Router Agent]
    â†“
Router Agent [ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¾]
    â†“
Router Agent: Â«Ğ§ĞµĞ¼ Ğ¼Ğ¾Ğ³Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ?Â»
```
**Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸:** Router Agent â†’ Interview Agent â†’ **Router Agent**

**Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ (SDK), Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²ÑŒÑ

---

### ĞŸĞ¾Ñ‚Ğ¾Ğº 4: ĞœĞ½Ğ¾Ğ³Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° (Tool Call â†’ Return)
```
User: Â«ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ¹ Ğ²ÑÑ‚Ñ€ĞµÑ‡ÑƒÂ»
    â†“
Router Agent: Â«Ğ¡ĞµĞºÑƒĞ½Ğ´Ğ¾Ñ‡ĞºÑƒ, ÑƒÑ‚Ğ¾Ñ‡Ğ½Ñ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Â»
    â†“
Router Agent [tool call â†’ delegateToSupervisor]
    â†“
POST /api/supervisor
    â†“
Backend Planning Agent (gpt-4o):
  - Ğ§Ğ¸Ñ‚Ğ°ĞµÑ‚ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ (MCP)
  - Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ Ğ²Ñ€ĞµĞ¼Ñ
  - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ñƒ (MCP)
  - Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ nextResponse
    â†“
Response: { nextResponse, workflowSteps }
    â†“
Router Agent [Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ¾Ñ‚ tool]
    â†“
Router Agent [Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ nextResponse Ğ´Ğ¾ÑĞ»Ğ¾Ğ²Ğ½Ğ¾]
    â†“
Router Agent: Â«Ğ¯ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ» Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾... Ğ’ÑÑ‚Ñ€ĞµÑ‡Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°...Â»
    â†“
Router Agent [Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ]
```
**Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸:** Router Agent â†’ Backend Planning Agent â†’ **Router Agent**

**Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚:** Ğ§ĞµÑ€ĞµĞ· response Ğ¾Ñ‚ tool (fetch API)

---

### ĞŸĞ¾Ñ‚Ğ¾Ğº 5: ĞÑ‡ĞµĞ½ÑŒ ÑĞ»Ğ¾Ğ¶Ğ½Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° (Tool Call â†’ Return)
```
User: Â«ĞĞ°Ğ¹Ğ´Ğ¸ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ², Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ğ¸, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ÑŒ Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞµĞ½Ğ¸ÑÂ»
    â†“
Router Agent: Â«Ğ­Ñ‚Ğ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°, Ğ·Ğ°Ğ¹Ğ¼Ñ‘Ñ‚ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¼Ğ¸Ğ½ÑƒÑ‚. ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ?Â»
    â†“
User: Â«Ğ”Ğ°Â»
    â†“
Router Agent [tool call â†’ executeComplexTask]
    â†“
POST /api/tasks/execute
    â†“
Backend Complex Task Agent:
  - Ğ”ĞµĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ
  - Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ¿Ğ¾Ğ´Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ (RAG, Calendar, Email MCP)
  - Ğ¡Ğ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹
  - Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚
    â†“
Response: { success, report }
    â†“
Router Agent [Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ¾Ñ‚ tool]
    â†“
Router Agent: Â«Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! ĞĞ°ÑˆÑ‘Ğ» 8 ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ², ÑĞ¾Ğ·Ğ´Ğ°Ğ» Ğ²ÑÑ‚Ñ€ĞµÑ‡Ñƒ...Â»
    â†“
Router Agent [Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ]
```
**Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸:** Router Agent â†’ Backend Complex Task Agent â†’ **Router Agent**

**Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚:** Ğ§ĞµÑ€ĞµĞ· response Ğ¾Ñ‚ tool (fetch API)

---

### ĞŸĞ¾Ñ‚Ğ¾Ğº 6: ĞšĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ (Multiple Handoffs)
```
User: Â«ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ Ğ¿Ğ¸ÑÑŒĞ¼Ğ° Ğ¾Ñ‚ ĞĞ½Ğ½Ñ‹Â»
    â†“
Router Agent [Ğ¿Ñ€ÑĞ¼Ğ¾Ğ¹ Ğ²Ñ‹Ğ·Ğ¾Ğ² MCP]
Router Agent: Â«ĞĞ°ÑˆĞ»Ğ° Ñ‚Ñ€Ğ¸ Ğ¿Ğ¸ÑÑŒĞ¼Ğ° Ğ¾Ñ‚ ĞĞ½Ğ½Ñ‹Â»
    â†“
User: Â«Ğ§Ñ‚Ğ¾ Ğ¾Ğ½Ğ° Ğ¿Ğ¸ÑĞ°Ğ»Ğ° Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ Ğ’Ğ¾ÑÑ‚Ğ¾Ğº?Â»
    â†“
Router Agent [handoff â†’ Knowledge Agent]
    â†“
Knowledge Agent: Â«Ğ˜Ñ‰Ñƒ Ğ² Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ…Â»
Knowledge Agent: Â«Ğ’ Ğ¿ĞµÑ€ĞµĞ¿Ğ¸ÑĞºĞµ Ñ ĞĞ½Ğ½Ğ¾Ğ¹ Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ Ğ’Ğ¾ÑÑ‚Ğ¾Ğº Ğ½Ğ°ÑˆĞ»Ğ° Ñ‚Ñ€Ğ¸ Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ...Â»
    â†“
Knowledge Agent [Ğ’ĞĞ—Ğ’Ğ ĞĞ¢ â†’ Router Agent]
    â†“
Router Agent [ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¾]
    â†“
User: Â«ĞĞ°Ğ·Ğ½Ğ°Ñ‡ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ñƒ Ñ Ğ½ĞµĞ¹ Ğ½Ğ° ÑĞ»ĞµĞ´ÑƒÑÑ‰ÑƒÑ Ğ½ĞµĞ´ĞµĞ»ÑÂ»
    â†“
Router Agent [tool call â†’ delegateToSupervisor]
    â†“
Backend Planning Agent: Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²ÑƒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ
    â†“
Router Agent [Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ response]
Router Agent: Â«ĞšĞ¾Ğ³Ğ´Ğ° ÑƒĞ´Ğ¾Ğ±Ğ½Ğ¾: Ğ¿Ğ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº, ÑÑ€ĞµĞ´Ñƒ Ğ¸Ğ»Ğ¸ Ğ¿ÑÑ‚Ğ½Ğ¸Ñ†Ñƒ?Â»
    â†“
[... Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ğ° ...]
    â†“
Router Agent [Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ]
```
**Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸:** Router Agent â†’ MCP â†’ **Router Agent** â†’ Knowledge Agent â†’ **Router Agent** â†’ Backend Planning Agent â†’ **Router Agent**

**ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚:** Router Agent **Ğ’Ğ¡Ğ•Ğ“Ğ”Ğ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ** Ğ¿Ğ¾ÑĞ»Ğµ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ğ´ĞµĞ»ĞµĞ³Ğ°Ñ†Ğ¸Ğ¸

---

## ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### Frontend: 3 RealtimeAgents

| ĞĞ³ĞµĞ½Ñ‚ | Ğ¢Ğ¸Ğ¿ | ĞœĞ¾Ğ´ĞµĞ»ÑŒ | ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ | Ğ Ğ¾Ğ»ÑŒ | Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğ² Router |
|-------|-----|--------|--------|------|------------------|
| **Router** | RealtimeAgent | gpt-4o-realtime-mini | 300 ÑÑ‚Ñ€ | ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, MCP calls | N/A (Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹) |
| **Knowledge** | RealtimeAgent | gpt-4o-realtime-mini | 130 ÑÑ‚Ñ€ | RAG Ğ¿Ğ¾Ğ¸ÑĞº | âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ (exit criteria) |
| **Interview** | RealtimeAgent | gpt-4o-realtime-mini | 110 ÑÑ‚Ñ€ | ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ | âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ (exit criteria) |

### Backend: 2 Agents

| ĞĞ³ĞµĞ½Ñ‚ | Ğ¢Ğ¸Ğ¿ | ĞœĞ¾Ğ´ĞµĞ»ÑŒ | ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ | Ğ Ğ¾Ğ»ÑŒ | Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğ² Router |
|-------|-----|--------|--------|------|------------------|
| **Planning** | Agent | gpt-4o | 550 ÑÑ‚Ñ€ | ĞœĞ½Ğ¾Ğ³Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ (2-7 ÑˆĞ°Ğ³Ğ¾Ğ²) | âœ… Ğ§ĞµÑ€ĞµĞ· response (tool) |
| **Complex Task** | TaskOrchestrator | gpt-4o | 200 ÑÑ‚Ñ€ | Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ (8+ ÑˆĞ°Ğ³Ğ¾Ğ²) | âœ… Ğ§ĞµÑ€ĞµĞ· response (tool) |

### External: 1 Service

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | Ğ¢Ğ¸Ğ¿ | Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ | Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğ² Router |
|--------|-----|----------|------------------|
| **MCP Server** | Hosted MCP | Gmail API, Calendar API | âœ… Ğ§ĞµÑ€ĞµĞ· response (MCP tool) |

---

## ĞœĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼Ñ‹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ

### 1. Handoff Return (RealtimeAgents)

**ĞœĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· SDK

**ĞšĞ¾Ğ³Ğ´Ğ°:** Knowledge Agent, Interview Agent Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°ÑÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ

**Exit Criteria Ğ² Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğµ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°:**
```typescript
`
## Exit Criteria

ĞŸĞ¾ÑĞ»Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸:
- Ğ¡Ğ¾Ğ¾Ğ±Ñ‰Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº Router Agent
- ĞĞ• Ğ·Ğ°Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ²Ğ½Ğµ ÑĞ²Ğ¾ĞµĞ¹ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ:
- Â«ĞĞ°ÑˆĞ»Ğ° Ñ‚Ñ€Ğ¸ Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°. ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸?Â» [Ğ¶Ğ´Ñ‘Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚]
- Ğ•ÑĞ»Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ñ…Ğ¾Ñ‡ĞµÑ‚ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ (Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾, ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ñƒ)
  â†’ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº Router Agent

Ğ­ÑĞºĞ°Ğ»Ğ°Ñ†Ğ¸Ñ:
- Ğ•ÑĞ»Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ·Ğ° Ñ€Ğ°Ğ¼ĞºĞ¸ Ğ²Ğ°ÑˆĞµĞ¹ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸:
  â†’ Â«Ğ­Ñ‚Ğ¾ Ğ½Ğµ Ğ¼Ğ¾Ñ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒÂ»
  â†’ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº Router Agent
`
```

**ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ SDK:**
```typescript
// Router Agent Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ handoffs
const routerAgent = new RealtimeAgent({
  name: 'routerAgent',
  handoffs: [knowledgeAgent, interviewAgent],
  // ...
});

// SDK Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸:
// 1. ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚, ĞºĞ¾Ğ³Ğ´Ğ° Knowledge Agent Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ğ»
// 2. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Router Agent
// 3. Router Agent Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€ Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼
```

---

### 2. Tool Return (Backend Agents)

**ĞœĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼:** Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· response Ğ¾Ñ‚ fetch API

**ĞšĞ¾Ğ³Ğ´Ğ°:** Planning Agent, Complex Task Agent Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°ÑÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ

**ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:**
```typescript
// Router Agent Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ tool
const result = await delegateToSupervisor({
  conversationContext: '...',
  proposedPlan: '...',
  userIntent: '...',
  complexity: 'high',
});

// Backend Planning Agent Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ
// Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚:
{
  decision: 'approve',
  nextResponse: 'Ğ¯ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ» Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ Ğ¾Ñ‚ ĞĞ½Ğ½Ñ‹... Ğ’ÑÑ‚Ñ€ĞµÑ‡Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°...',
  workflowSteps: ['ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ» Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾', 'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ» ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ', ...],
}

// Router Agent Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ result
// Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ nextResponse Ğ´Ğ¾ÑĞ»Ğ¾Ğ²Ğ½Ğ¾
Router Agent: [Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ nextResponse Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ]

// Router Agent Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ
```

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** Backend Ğ°Ğ³ĞµĞ½Ñ‚ ĞĞ• Ğ¸Ğ¼ĞµĞµÑ‚ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğ¼Ñƒ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑƒ. ĞĞ½ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ **nextResponse**, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Router Agent Ğ¾Ğ·Ğ²ÑƒÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚.

---

### 3. MCP Return

**ĞœĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼:** Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· response Ğ¾Ñ‚ MCP tool

**ĞšĞ¾Ğ³Ğ´Ğ°:** MCP Server Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ

**ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:**
```typescript
// Router Agent Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ MCP tool
const result = await hostedMcpTool.read_latest_email();

// MCP Server Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ:
{
  from: 'Ivan',
  subject: 'Meeting',
  body: '...',
}

// Router Agent Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
Router Agent: Â«ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ Ğ¾Ñ‚ Ğ˜Ğ²Ğ°Ğ½Ğ° Ñ Ñ‚ĞµĞ¼Ğ¾Ğ¹ "Meeting"...Â»

// Router Agent Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ
```

---

## Router Agent - Ñ†ĞµĞ½Ñ‚Ñ€ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ

### ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

```typescript
export const routerAgent = new RealtimeAgent({
  name: 'routerAgent',
  voice: 'sage',
  instructions: routerAgentPrompt,

  // Handoffs Ğº RealtimeAgents (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚)
  handoffs: [
    knowledgeAgent,    // â† Ğ”ĞµĞ»ĞµĞ³Ğ°Ñ†Ğ¸Ñ ÑÑĞ´Ğ°, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹
    interviewAgent,    // â† Ğ”ĞµĞ»ĞµĞ³Ğ°Ñ†Ğ¸Ñ ÑÑĞ´Ğ°, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹
  ],

  // Tools Ğ´Ğ»Ñ Ğ¿Ñ€ÑĞ¼Ñ‹Ñ… Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ¾Ğ² Ğ¸ backend Ğ´ĞµĞ»ĞµĞ³Ğ°Ñ†Ğ¸Ğ¸
  tools: [
    // MCP Server (Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· response)
    hostedMcpTool({
      serverLabel: 'calendar',
      serverUrl: 'https://rndaibot.app.n8n.cloud/mcp/google_my_account',
    }),

    // User info
    getCurrentUserInfo,
    checkInterviewStatus,

    // Backend agents (Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· response Ğ¾Ñ‚ fetch)
    delegateToSupervisor,      // â† Tool call, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· response
    executeComplexTask,        // â† Tool call, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· response
  ],
});
```

### Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ² Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğµ Router Agent

```typescript
`
## Routing Logic

### ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ MCP tools (Ğ¿Ñ€ÑĞ¼Ğ¾):
âœ… Â«ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾Â» â†’ read_email (MCP)
âœ… Â«ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸Â» â†’ get_calendar_events (MCP)
âœ… Â«ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾Â» â†’ send_email (MCP) [Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸ĞµĞ¼]

Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚: Ğ§ĞµÑ€ĞµĞ· response Ğ¾Ñ‚ MCP tool

---

### ĞšĞ¾Ğ³Ğ´Ğ° Ğ´ĞµĞ»ĞµĞ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Knowledge Agent (handoff):
âœ… Â«Ğ§Ñ‚Ğ¾ Ğ¿Ğ¸ÑĞ°Ğ»Ğ¸ Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ?Â» â†’ [handoff â†’ Knowledge Agent]
âœ… Â«ĞšĞ¾Ğ³Ğ´Ğ° Ğ¾Ğ±ÑÑƒĞ¶Ğ´Ğ°Ğ»Ğ¸ Ğ±ÑĞ´Ğ¶ĞµÑ‚?Â» â†’ [handoff â†’ Knowledge Agent]

Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚: ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ Ñ‡ĞµÑ€ĞµĞ· SDK (Ğ¿Ğ¾ÑĞ»Ğµ exit criteria)

ĞŸĞ¾ÑĞ»Ğµ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°:
- Router Agent Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€
- Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ

---

### ĞšĞ¾Ğ³Ğ´Ğ° Ğ´ĞµĞ»ĞµĞ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Interview Agent (handoff):
âœ… ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ (checkInterviewStatus = false)
âœ… ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚: ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ Ñ‡ĞµÑ€ĞµĞ· SDK (Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²ÑŒÑ)

ĞŸĞ¾ÑĞ»Ğµ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°:
- Router Agent: Â«Ğ§ĞµĞ¼ Ğ¼Ğ¾Ğ³Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ?Â»
- Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°Ğ¼

---

### ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Planning Agent (tool call):
âœ… ĞœĞ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ñ‹Ğµ ÑˆĞ°Ğ³Ğ¸ (2-7)
âœ… Â«ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ Ğ˜ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡ÑƒÂ»
âœ… Ğ£ÑĞ»Ğ¾Ğ²Ğ½Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°, Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·

ĞŸÑ€ĞµĞ°Ğ¼Ğ±ÑƒĞ»Ğ°: Â«Ğ¡ĞµĞºÑƒĞ½Ğ´Ğ¾Ñ‡ĞºÑƒ, ÑƒÑ‚Ğ¾Ñ‡Ğ½Ñ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Â»

Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚: Ğ§ĞµÑ€ĞµĞ· response Ğ¾Ñ‚ tool (nextResponse)

ĞŸĞ¾ÑĞ»Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ response:
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ nextResponse Ğ”ĞĞ¡Ğ›ĞĞ’ĞĞ
- Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ

---

### ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Complex Task Agent (tool call):
âœ… 8+ ÑˆĞ°Ğ³Ğ¾Ğ²
âœ… ĞœĞ°ÑÑĞ¾Ğ²Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾ Ğ»ÑĞ´ĞµĞ¹)

Ğ’ĞĞ–ĞĞ: ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ´Ğ¸Ñ‚ÑŒ + Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ!

Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚: Ğ§ĞµÑ€ĞµĞ· response Ğ¾Ñ‚ tool (report)

ĞŸĞ¾ÑĞ»Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ response:
- ĞĞ·Ğ²ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¸Ğ· report
- Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ
`
```

---

## Exit Criteria (Ğ´Ğ»Ñ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° Ğ² Router)

### Knowledge Agent Exit Criteria

```typescript
`
## Exit Criteria

ĞŸĞ¾ÑĞ»Ğµ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² RAG Ğ¿Ğ¾Ğ¸ÑĞºĞ°:

1. Ğ¡Ğ¾Ğ¾Ğ±Ñ‰Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ:
   - Â«ĞĞ°ÑˆĞ»Ğ° Ñ‚Ñ€Ğ¸ Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ...Â»
   - Â«ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸?Â»

2. Ğ•ÑĞ»Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµÑ‚ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¿Ğ¾ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ½Ğ¾Ğ¼Ñƒ:
   - ĞŸÑ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸
   - ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€

3. Ğ•ÑĞ»Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ñ…Ğ¾Ñ‡ĞµÑ‚ Ğ”Ğ•Ğ™Ğ¡Ğ¢Ğ’Ğ˜Ğ• (Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾, ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ñƒ):
   - Â«ĞŸĞµÑ€ĞµĞ´Ğ°Ñ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¼Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸ĞºÑƒÂ»
   - ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº Router Agent

4. Ğ•ÑĞ»Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ·Ğ° Ñ€Ğ°Ğ¼ĞºĞ¸ RAG:
   - Â«Ğ­Ñ‚Ğ¾ Ğ½Ğµ Ğ¼Ğ¾Ñ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒÂ»
   - ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº Router Agent

SDK Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²ĞµÑ€Ğ½Ñ‘Ñ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Router Agent.
`
```

### Interview Agent Exit Criteria

```typescript
`
## Exit Criteria

ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²ÑŒÑ:

1. Ğ¡Ğ¾Ğ¾Ğ±Ñ‰Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:
   - Â«Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾! Ğ¯ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ» Ğ²Ğ°ÑˆĞ¸ Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚ĞµĞ½Ğ¸ÑÂ»
   - Â«Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ±ÑƒĞ´Ñƒ ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ñ… Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞµÂ»

2. ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº Router Agent

SDK Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²ĞµÑ€Ğ½Ñ‘Ñ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Router Agent.
Router Agent Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚: Â«Ğ§ĞµĞ¼ Ğ¼Ğ¾Ğ³Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ?Â»
`
```

---

## Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ³Ğ¾ Ñ†Ğ¸ĞºĞ»Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          User                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Router Agent (Ñ†ĞµĞ½Ñ‚Ñ€ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)        â”‚
â”‚                                             â”‚
â”‚  ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ:                        â”‚
â”‚  â€¢ ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°? â†’ MCP                    â”‚
â”‚  â€¢ RAG? â†’ Knowledge Agent                   â”‚
â”‚  â€¢ ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ? â†’ Interview Agent        â”‚
â”‚  â€¢ ĞœĞ½Ğ¾Ğ³Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ°Ñ? â†’ Planning Agent           â”‚
â”‚  â€¢ ĞÑ‡ĞµĞ½ÑŒ ÑĞ»Ğ¾Ğ¶Ğ½Ğ°Ñ? â†’ Complex Task Agent      â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚       â”‚       â”‚       â”‚       â”‚
      â–¼       â–¼       â–¼       â–¼       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MCP    â”‚ â”‚Knowâ”‚ â”‚Intvâ”‚ â”‚Planâ”‚ â”‚Complex â”‚
â”‚ Server  â”‚ â”‚ledgeâ”‚ â”‚viewâ”‚ â”‚ningâ”‚ â”‚  Task  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”˜ â””â”€â”¬â”€â”€â”˜ â””â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚       â”‚      â”‚      â”‚        â”‚
      â”‚ resp  â”‚ exit â”‚ exit â”‚ resp   â”‚ resp
      â”‚       â”‚ crit â”‚ crit â”‚ (next  â”‚ (report)
      â”‚       â”‚eria  â”‚eria  â”‚ Resp)  â”‚
      â–¼       â–¼      â–¼      â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Router Agent (ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ)             â”‚
â”‚                                             â”‚
â”‚  ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾:               â”‚
â”‚  â€¢ ĞÑ‚ MCP: Ñ‡ĞµÑ€ĞµĞ· response                   â”‚
â”‚  â€¢ ĞÑ‚ Knowledge: Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ (SDK)        â”‚
â”‚  â€¢ ĞÑ‚ Interview: Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ (SDK)        â”‚
â”‚  â€¢ ĞÑ‚ Planning: Ñ‡ĞµÑ€ĞµĞ· response              â”‚
â”‚  â€¢ ĞÑ‚ Complex Task: Ñ‡ĞµÑ€ĞµĞ· response          â”‚
â”‚                                             â”‚
â”‚  Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ âœ“               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          User (Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ğ°)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

### 1. Router Agent - ĞµĞ´Ğ¸Ğ½Ğ°Ñ Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°/Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ°

- âœ… Ğ’ÑĞµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´ÑÑ‚ Ğ² Router Agent
- âœ… Ğ’ÑĞµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¸Ğ´ÑƒÑ‚ Ñ‡ĞµÑ€ĞµĞ· Router Agent
- âœ… Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ°Ğ³ĞµĞ½Ñ‚Ñ‹ Ğ’Ğ¡Ğ•Ğ“Ğ”Ğ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ÑÑ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Router Agent

### 2. Ğ”Ğ²Ğ° Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°

**Handoff (RealtimeAgents):**
- Knowledge Agent â†’ Router Agent (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹)
- Interview Agent â†’ Router Agent (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹)
- Ğ§ĞµÑ€ĞµĞ· exit criteria + SDK

**Tool Call (Backend Agents):**
- Planning Agent â†’ Router Agent (Ñ‡ĞµÑ€ĞµĞ· response)
- Complex Task Agent â†’ Router Agent (Ñ‡ĞµÑ€ĞµĞ· response)
- Ğ§ĞµÑ€ĞµĞ· fetch API response

### 3. Router Agent ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²ÑÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ

```
Router Agent:
â”œâ”€ ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ°Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
â”œâ”€ Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ¿ÑƒÑ‚ÑŒ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ
â”œâ”€ Ğ”ĞµĞ»ĞµĞ³Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¼ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°Ğ¼
â”œâ”€ ĞŸĞĞ›Ğ£Ğ§ĞĞ•Ğ¢ Ğ£ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞ˜Ğ• ĞĞ‘Ğ ĞĞ¢ĞĞ
â””â”€ ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³ Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼
```

---

## Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

- ğŸ“„ **[agent-decomposition-final.md](./agent-decomposition-final.md)** - Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
- ğŸ“„ **[ARCHITECTURE.md](./ARCHITECTURE.md)** - Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ» (Ğ¾Ğ±Ğ·Ğ¾Ñ€ Ñ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ¾Ğ¼ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)

---

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```
src/app/agentConfigs/severstalAssistantAgent/
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ routerAgent.ts       # â† Ğ¦ĞµĞ½Ñ‚Ñ€ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
â”‚   â”œâ”€â”€ knowledgeAgent.ts    # â† Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· exit criteria
â”‚   â””â”€â”€ interviewAgent.ts    # â† Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· exit criteria
â”œâ”€â”€ prompts/
â”‚   â”œâ”€â”€ routerPrompt.ts      # â† Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ knowledgePrompt.ts   # â† Exit criteria Ğ´Ğ»Ñ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°
â”‚   â””â”€â”€ interviewPrompt.ts   # â† Exit criteria Ğ´Ğ»Ñ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°
â””â”€â”€ tools/
    â”œâ”€â”€ supervisorAgent.ts        # â† Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· response
    â””â”€â”€ executeComplexTaskTool.ts # â† Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· response

src/app/api/
â”œâ”€â”€ supervisor/
â”‚   â””â”€â”€ agent.ts             # â† Backend Planning Agent
â””â”€â”€ tasks/
    â””â”€â”€ orchestrator.ts      # â† Backend Complex Task Agent
```

---

**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** 2025-10-23

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 4.0 (Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑÑ…ĞµĞ¼Ğ¾Ğ¹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ² Router Agent)
